<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Donovan Brown wrote a good article showcasing how you can use a custom PowerShell function to navigate up directories without the need to type multiple cd .. . I find his idea interesting and could be of important time saver if you spend a lot of time working with PowerShell.
Unfortunately (or fortunately depends how you see it) nowadays I don&rsquo;t use PowerShell a lot, and when I do my usage is limited to few PowerCLI commands, but I do spend a considerable time interacting with Linux Shell, so the natural thing to do is to port Donovan&rsquo;s idea into a Bash script.'>

<meta property='og:title' content='Change Directory Up Faster With Back up Command • Taleeb Midi'>
<meta property='og:description' content='Donovan Brown wrote a good article showcasing how you can use a custom PowerShell function to navigate up directories without the need to type multiple cd .. . I find his idea interesting and could be of important time saver if you spend a lot of time working with PowerShell.
Unfortunately (or fortunately depends how you see it) nowadays I don&rsquo;t use PowerShell a lot, and when I do my usage is limited to few PowerCLI commands, but I do spend a considerable time interacting with Linux Shell, so the natural thing to do is to port Donovan&rsquo;s idea into a Bash script.'>
<meta property='og:url' content='https://midiroot.com/post/cd-up-faster-with-backup-command/'>
<meta property='og:site_name' content='Taleeb Midi'>
<meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2018-03-15T00:56:24-04:00'/><meta property='article:modified_time' content='2018-03-15T00:56:24-04:00'/><meta name='twitter:card' content='summary'><meta name='twitter:site' content='@midi_onze'>

<meta name="generator" content="Hugo 0.40.3" />

  <title>Change Directory Up Faster With Back up Command • Taleeb Midi</title>
  <link rel='canonical' href='https://midiroot.com/post/cd-up-faster-with-backup-command/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.22d77285.css'><link rel='stylesheet' href='/css/prism.css'>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-106773326-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>


<body class='page type-post has-sidebar sidebar-sticky'>

  <div class='site'>

    <a class='screen-reader-text' href='#main-menu'>Skip to Main Menu</a>

<div id='sidebar' class='sidebar'>
  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
    Taleeb Midi
    </h2>
    <div class='desc'>
    Python - Linux - Dev/Ops
    </div>
  </header>

</section>
<section class='widget widget-taxonomy_cloud sep-after'>
  <header>
    <h4 class='title widget-title'>Tags</h4>
  </header>

  <div class='container list-container'>
  <ul class='list taxonomy-cloud'><li>
        <a href='/categories/ansible' style='font-size:1em'>Ansible</a>
      </li><li>
        <a href='/categories/basg' style='font-size:1em'>Basg</a>
      </li><li>
        <a href='/categories/bash' style='font-size:1.25em'>Bash</a>
      </li><li>
        <a href='/categories/best-practices' style='font-size:1em'>Best Practices</a>
      </li><li>
        <a href='/categories/cryptsetup' style='font-size:1em'>Cryptsetup</a>
      </li><li>
        <a href='/categories/haproxy' style='font-size:1em'>HAProxy</a>
      </li><li>
        <a href='/categories/install' style='font-size:1em'>Install</a>
      </li><li>
        <a href='/categories/luks' style='font-size:1em'>LUKS</a>
      </li><li>
        <a href='/categories/linux' style='font-size:2em'>Linux</a>
      </li><li>
        <a href='/categories/logrotate' style='font-size:1em'>Logrotate</a>
      </li><li>
        <a href='/categories/ossec' style='font-size:1em'>OSSEC</a>
      </li><li>
        <a href='/categories/others' style='font-size:1em'>Others</a>
      </li><li>
        <a href='/categories/selinux' style='font-size:1em'>SELinux</a>
      </li><li>
        <a href='/categories/setup' style='font-size:1em'>Setup</a>
      </li><li>
        <a href='/categories/shell' style='font-size:1em'>Shell</a>
      </li><li>
        <a href='/categories/snippets' style='font-size:1.25em'>Snippets</a>
      </li><li>
        <a href='/categories/journalctl' style='font-size:1em'>Journalctl</a>
      </li><li>
        <a href='/categories/journald' style='font-size:1em'>Journald</a>
      </li></ul>
</div>


</section>
</div>
</div>

    <div class='main'>

      <nav id='main-menu' class='main-menu' aria-label='Main Menu'>
  <div class='container'>
    <a class='screen-reader-text' href='#content'>Skip to Content</a>

<button id='sidebar-toggler' class='hamburger hamburger--arrow sidebar-toggler' type='button' aria-controls='sidebar' aria-expanded='false'>
  <span class='screen-reader-text'>Toggle Sidebar</span>
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
    <ul><li class='item'>
        <a href='https://midiroot.com/'>Home</a>
      </li></ul>
  </div>
</nav>


      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Taleeb Midi</p><p class='desc site-desc'>Just some of the interesting Dev/Ops, Linux and technology related findings. I am using these posts as a reference, a writing experience and a place to share what I find worthy. I hope you will enjoy your time here.</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Change Directory Up Faster With Back up Command</h1>
      

    </div>
    
<div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2018-03-15T00:56:24-04:00'>2018, Mar 15</time>
</span>

  
  

</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  

<p><a href="http://donovanbrown.com" target="_blank">Donovan Brown</a> wrote a good <a href="http://donovanbrown.com/post/Why-cd-when-you-can-just-backup" target="_blank">article</a> showcasing how you can use a custom PowerShell function to navigate up directories without the need to type multiple <code>cd ..</code> . I find his idea interesting and could be of important time saver if you spend a lot of time working with PowerShell.</p>

<p>Unfortunately (or fortunately depends how you see it) nowadays I don&rsquo;t use PowerShell a lot, and when I do my usage is limited to few PowerCLI commands, but I do spend a considerable time interacting with Linux Shell, so the natural thing to do is to port Donovan&rsquo;s idea into a Bash script. The Bash script is going to be different from the PowerShell one, but the concept remains the same.</p>

<p>What we need?
 - A function that take an integer as an argument.
 - A help function to display a basic help menu when wrong argument entered.</p>

<h2 id="the-help-function">The help function:</h2>

<p>I like to keep this as simple as possible, since our function will take only one line for the argument and the second line to indicate that this a help menu:</p>

<pre>
  <code class="language-bash">
function bu_usage () {
   cat <<-EOF
    Usage: bu [N]
            N        Where N is the number of level to move back to. this argument must be an integer.
            h help   displays this basic help menu.
    EOF

</code>
</pre>
I used `-EOF` to allow indentation, this work better with tabs than with spaces.

## The back up function
Now that our help function is out of the way we can start building the backup function. we know the function will take one argument, and this argument must be an integer:

<pre>
  <code class="language-bash">
function bu () {
    FUNCTIONARG=$1
    # Make sure the provided argument is a positive integer:
    if [[ ! -z "${FUNCTIONARG##*[!0-9]*}" ]]; then
        for i in $(seq 1 $FUNCTIONARG); do
            STRARGMNT+="../"
        done
        CMD="cd ${STRARGMNT}"
        eval $CMD
    else
        bu_usage
    fi
}
</code>
</pre>
**How this works?** the functions starts first by making sure the argument is a valid integer, if not it will call the help function we created earlier. Then using a sequence of numbers from 1 to the argument, we will append `../` string to `STRARGMNT` with each iteration. When the for loop is complete we run `cd` command with all the final appended up directories. This will give us:

|argument|command  |
|--------|---------|
|1       |cd ..    |
|2       |cd ../.. |
|3       |cd ../../..|


## How to use this?
I usually add functions like these to a `.functions` file under my home directory, the function file get sources by `.bash_profile`.
To source `.functions` or other dotfiles add this for loop to your `.bash_profile`, files must be comma separated:

<pre>
  <code class="language-bash">
for file in ~/.{functions}; do
    [ -r "$file" \] && \[ -f "$file" \] && source "$file";
done;
unset file;
</code>
</pre>

<p>Create <code>.functions</code> and add this content to it:
<pre>
  <code class="language-bash">
 function bu () {
    function bu_usage () {
       cat &lt;&lt;-EOF
        Usage: bu [N]
                N        Where N is the number of level to move back to. this argument must be an integer.
                h help   displays this basic help menu.
        EOF
    }</p>

<pre><code># unset variables
STRARGMNT=&quot;&quot;
FUNCTIONARG=$1

# Make sure the provided argument is a positive integer:
if [[ ! -z &quot;${FUNCTIONARG##*[!0-9]*}&quot; ]]; then
    for i in $(seq 1 $FUNCTIONARG); do
        STRARGMNT+=&quot;../&quot;
    done
    CMD=&quot;cd ${STRARGMNT}&quot;
    eval $CMD
else
    bu_usage
fi
</code></pre>

<p>}
</code>
</pre>
This is slightly different from the previous functions we created. The help menu is a nested function inside the main <code>bu</code> function. we also created empty <code>STRARGMNT</code> to unset the variable each time the function runs.</p>

<p>When you are done <code>source .bash_profile</code> or close and reopen your terminal for the change to take effect</p>

<p><strong>how to run?</strong>
<code>bu help</code> or <code>bu -h</code> for help menu.
<code>bu 2</code> to go two folders up, this is the equivalent of running <code>cd ..\..\</code>
you can see <code>bu</code> in action here(external link):</p>

<p><a href="https://asciinema.org/a/Serx0ac08heiRW4QI61FW2QKv" target="_blank"><img src="https://asciinema.org/a/Serx0ac08heiRW4QI61FW2QKv.png" alt="asciicast" /></a></p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'>
  <div class='categories'>
  <span class='taxonomy-icon'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
</span>
  <span class='screen-reader-text'>Categories: </span><a class='category' href='/categories/bash'>Bash</a>, <a class='category' href='/categories/shell'>Shell</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/post/ansible-directory-layout/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>Ansible: Directory Layout</a>
    </div><div class='next-entry sep-before'>
      <a href='/post/haproxy-getting-started/'>
        <span class='screen-reader-text'>Next post: </span>Getting started with HAProxy: Install from code source<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>



      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'>
          <section class='widget widget-social_menu sep-after'><header>
    <h4 class='title widget-title'>Social Menu</h4>
  </header><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/tmidi' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/midi_onze' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/taleebmidi' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li></ul>
  </nav>
</section>

          <div class='copyright'>
  <p>All rights reserved &copy; 2017-2018 Taleeb Midi </p>
</div>

        </div>
      </footer>

    </div>
  </div><div class='sidebar-overlay'></div><script src='/assets/js/main.89545a27.js'></script><script src='/js/prism.js'></script></body>

</html>

